(function(b){b.fn.chosenOrder=function(){var a=this.filter(".chzn-sortable[multiple]").first(),c=a.siblings(".chzn-container");return b(c.find('.chzn-choices li[class!="search-field"]').map(function(){if(this)return a.find("option:contains("+b(this).text()+")")[0]}))};b.fn.chosenSortable=function(){this.filter(".chzn-sortable[multiple]").each(function(){var a=b(this),c=a.siblings(".chzn-container");c.find(".chzn-choices").bind("mousedown",function(d){b(d.target).is("span")&&d.stopPropagation()});
c.find(".chzn-choices").sortable({placeholder:"ui-state-highlight",items:"li:not(.search-field)",tolerance:"pointer"});a.closest("form").on("submit",function(){var d=a.chosenOrder();a.children().remove();a.append(d)})})}})(jQuery);
